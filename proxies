# ====== åŸºç¡€è®¾ç½® ======
mixed-port: 7890
allow-lan: false
mode: rule
log-level: info
external-controller: 127.0.0.1:9090

# ====== DNS é…ç½®ï¼ˆå¯ç”¨ Fake-IP é˜²æ±¡æŸ“ï¼‰[6,9](@ref) ======
dns:
  enable: false
  listen: 0.0.0.0:53
  enhanced-mode: fake-ip  # ä¼ªé€ IPé˜²æ­¢DNSæ±¡æŸ“
  nameserver:
    - 114.114.114.114    # å›½å†…DNSï¼ˆç”µä¿¡ï¼‰
    - 8.8.8.8            # æµ·å¤–DNSï¼ˆGoogleï¼‰
  fallback:              # å¤‡ç”¨DNSï¼ˆä»£ç†ä¸“ç”¨ï¼‰
    - tls://1.1.1.1@853  # CloudflareåŠ å¯†DNS
    - https://dns.google/dns-query

# ====== ä»£ç†èŠ‚ç‚¹ï¼ˆSSRå•èŠ‚ç‚¹ï¼‰=====
proxies:
  - name: "SSRèŠ‚ç‚¹"
    type: ssr
    server: ssr2.762988.xyz
    port: 33336
    password: "dongtaiwang.com"  # âœ… å·²å¡«å…¥å¯†ç 
    cipher: chacha20-ietf
    protocol: auth_chain_a
    obfs: tls1.2_ticket_auth
    udp: true  # å¯ç”¨UDPè½¬å‘

  - name: "VLESSèŠ‚ç‚¹1"
    type: vless
    server: 212.129.2.4
    port: 33887
    uuid: 33610372-fefc-456f-a3f2-5d65a48805ab
    network: xhttp
    tls: true
    security: reality
    servername: mora.jp
    client-fingerprint: chrome
    reality-opts:
      public-key: pk-jNQMhO1bmyp8Ml2lpPj_gHXNVsVzR9TzsraF-bnc
      short-id: 6f16ae83145d45a5
    xhttp-opts:
      path: "/github.com/Alvin9999"
  
  - name: "VMESSä¼ è¾“2-ipv6"
    type: vmess
    server: 2001:bc8:32d7:13a::2
    port: 55009
    uuid: 093e2946-aa16-492a-a139-4c6038ad3e1c
    alterId: 0
    cipher: auto
    udp: true
    tls: false
    network: ws
    ws-opts:
      path: "/github.com/Alvin9999"
      headers:
        Host: "www.bing.com"

  - name: "Hysteria2èŠ‚ç‚¹4-ipv4"
    type: hysteria2
    server: "195.154.206.231"
    port: 33880
    password: "dongtaiwang.com"
    sni: "apple.com"
    alpn:
      - "h3"
    skip-cert-verify: true
    # ä»¥ä¸‹æ˜¯å¯é€‰çš„ Hysteria2 é«˜çº§å‚æ•°
    # up: "100 Mbps"  # ä¸Šä¼ é€Ÿåº¦
    # down: "100 Mbps"  # ä¸‹è½½é€Ÿåº¦
    # obfs: "your-obfs-password"  # æ··æ·†å¯†ç ï¼ˆå¦‚æœæœ‰ï¼‰
    # obfs-type: "salamander"  # æ··æ·†ç±»å‹ï¼ˆå¦‚æœæœ‰ï¼‰

  - name: "Hysteria2èŠ‚ç‚¹3-ipv6"
    type: hysteria2
    server: "2001:bc8:1203:209::60"
    port: 33880
    password: "dongtaiwang.com"
    sni: "apple.com"
    alpn:
      - "h3"
    skip-cert-verify: true
    # ä»¥ä¸‹æ˜¯å¯é€‰çš„ Hysteria2 é«˜çº§å‚æ•°
    # up: "100 Mbps"  # ä¸Šä¼ é€Ÿåº¦
    # down: "100 Mbps"  # ä¸‹è½½é€Ÿåº¦
    # obfs: "your-obfs-password"  # æ··æ·†å¯†ç ï¼ˆå¦‚æœæœ‰ï¼‰
    # obfs-type: "salamander"  # æ··æ·†ç±»å‹ï¼ˆå¦‚æœæœ‰ï¼‰


# ====== ç­–ç•¥ç»„ï¼ˆé€‚é…DNSåˆ†æµï¼‰=====
proxy-groups:
  # è‡ªåŠ¨é€‰æ‹©å»¶è¿Ÿæœ€ä½çš„èŠ‚ç‚¹
  - name: "è‡ªåŠ¨é€‰æ‹©"
    type: url-test
    proxies:
      - "SSRèŠ‚ç‚¹"
      - "VLESSèŠ‚ç‚¹1"
      - "VMESSä¼ è¾“2-ipv6"
      - "Hysteria2èŠ‚ç‚¹3-ipv6"
      - "Hysteria2èŠ‚ç‚¹4-ipv4"
    url: "http://www.gstatic.com/generate_204"
    interval: 300
    tolerance: 50

  # æ‰‹åŠ¨é€‰æ‹©èŠ‚ç‚¹
  - name: "ğŸš€ ä»£ç†ç­–ç•¥"
    type: select
    proxies:
      - "è‡ªåŠ¨é€‰æ‹©"
      - "SSRèŠ‚ç‚¹"
      - "VLESSèŠ‚ç‚¹1"
      - "VMESSä¼ è¾“2-ipv6"
      - "Hysteria2èŠ‚ç‚¹3-ipv6"
      - "Hysteria2èŠ‚ç‚¹4-ipv4"
      - "DIRECT"

  # DNSä¸“ç”¨ç»„ï¼ˆå¼ºåˆ¶ä»£ç†æµ·å¤–DNSæŸ¥è¯¢ï¼‰
  - name: "DNS_PROXY"
    type: select
    proxies:
      - "è‡ªåŠ¨é€‰æ‹©"  # å¼ºåˆ¶DNSæŸ¥è¯¢èµ°ä»£ç†

# ====== è§„åˆ™åˆ†æµï¼ˆDNSå…³é”®ä¼˜åŒ–ï¼‰=====
rules:
  # å›½å†…ç›´è¿è§„åˆ™
  - GEOIP,CN,DIRECT              # ä¸­å›½å¤§é™†IPç›´è¿ [9](@ref)
  - DOMAIN-SUFFIX,cn,DIRECT      # ä¸­å›½åŸŸåç›´è¿
  
  # DNSå¼ºåˆ¶ä»£ç†è§„åˆ™ï¼ˆé¿å…æ±¡æŸ“ï¼‰
  - DST-PORT,53,DNS_PROXY        # æ‰€æœ‰53ç«¯å£DNSè¯·æ±‚å¼ºåˆ¶ä»£ç† [6](@ref)
  - IP-CIDR,8.8.8.8/32,DNS_PROXY # æŒ‡å®šæµ·å¤–DNSæœåŠ¡å™¨èµ°ä»£ç†
  
  # å›½é™…æœåŠ¡ä»£ç†
  - DOMAIN-SUFFIX,google.com,ğŸš€ ä»£ç†ç­–ç•¥
  - DOMAIN-SUFFIX,youtube.com,ğŸš€ ä»£ç†ç­–ç•¥
  
  # æœ€ç»ˆè§„åˆ™
  - MATCH,ğŸš€ ä»£ç†ç­–ç•¥
