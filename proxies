# ====== åŸºç¡€è®¾ç½® ======
mixed-port: 7890
allow-lan: false
mode: rule
log-level: info
external-controller: 127.0.0.1:9090

# ====== DNS é…ç½®ï¼ˆå¯ç”¨ Fake-IP é˜²æ±¡æŸ“ï¼‰[6,9](@ref) ======
dns:
  enable: false
  listen: 0.0.0.0:53
  enhanced-mode: fake-ip  # ä¼ªé€ IPé˜²æ­¢DNSæ±¡æŸ“
  nameserver:
    - 114.114.114.114    # å›½å†…DNSï¼ˆç”µä¿¡ï¼‰
    - 8.8.8.8            # æµ·å¤–DNSï¼ˆGoogleï¼‰
  fallback:              # å¤‡ç”¨DNSï¼ˆä»£ç†ä¸“ç”¨ï¼‰
    - tls://1.1.1.1@853  # CloudflareåŠ å¯†DNS
    - https://dns.google/dns-query

# ====== ä»£ç†èŠ‚ç‚¹ï¼ˆSSRå•èŠ‚ç‚¹ï¼‰=====
proxies:
  - name: "SSR_èŠ‚ç‚¹"
    type: ssr
    server: dongtaiwang5.com
    port: 25679
    password: "dongtaiwang.com"  # âœ… å·²å¡«å…¥å¯†ç 
    cipher: chacha20-ietf
    protocol: auth_chain_a
    obfs: tls1.2_ticket_auth
    udp: true  # å¯ç”¨UDPè½¬å‘

# ====== ç­–ç•¥ç»„ï¼ˆé€‚é…DNSåˆ†æµï¼‰=====
proxy-groups:
  - name: "ğŸš€ ä»£ç†ç­–ç•¥"
    type: select
    proxies:
      - "SSR_èŠ‚ç‚¹"
      - DIRECT

  # DNSä¸“ç”¨ç»„ï¼ˆå¼ºåˆ¶ä»£ç†æµ·å¤–DNSæŸ¥è¯¢ï¼‰
  - name: "DNS_PROXY"
    type: select
    proxies:
      - "SSR_èŠ‚ç‚¹"  # å¼ºåˆ¶DNSæŸ¥è¯¢èµ°ä»£ç†

# ====== è§„åˆ™åˆ†æµï¼ˆDNSå…³é”®ä¼˜åŒ–ï¼‰=====
rules:
  # å›½å†…ç›´è¿è§„åˆ™
  - GEOIP,CN,DIRECT              # ä¸­å›½å¤§é™†IPç›´è¿ [9](@ref)
  - DOMAIN-SUFFIX,cn,DIRECT      # ä¸­å›½åŸŸåç›´è¿
  
  # DNSå¼ºåˆ¶ä»£ç†è§„åˆ™ï¼ˆé¿å…æ±¡æŸ“ï¼‰
  - DST-PORT,53,DNS_PROXY        # æ‰€æœ‰53ç«¯å£DNSè¯·æ±‚å¼ºåˆ¶ä»£ç† [6](@ref)
  - IP-CIDR,8.8.8.8/32,DNS_PROXY # æŒ‡å®šæµ·å¤–DNSæœåŠ¡å™¨èµ°ä»£ç†
  
  # å›½é™…æœåŠ¡ä»£ç†
  - DOMAIN-SUFFIX,google.com,ğŸš€ ä»£ç†ç­–ç•¥
  - DOMAIN-SUFFIX,youtube.com,ğŸš€ ä»£ç†ç­–ç•¥
  
  # æœ€ç»ˆè§„åˆ™
  - MATCH,ğŸš€ ä»£ç†ç­–ç•¥
